// Минимальный режим совместимости для компиляции модуля - 8.3.6
// Все вызовы его методов должны находиться внутри условия ирОбщий.ЛиДоступенМодуль83()
// Запрещено вызывать его методы напрямую. Допускаются только вызовы из ирОбщий 
// Не добавлять методы JSON, т.к. они и в режиме совместимости 8.2 работают

Функция ТекущаяУниверсальнаяДатаВМиллисекундахЛкс() Экспорт 
	Возврат ТекущаяУниверсальнаяДатаВМиллисекундах() 
КонецФункции

Функция СтрНайтиЛкс(Строка, ПодстрокаПоиска, НаправлениеПоиска = Неопределено, НачальнаяПозиция = Неопределено, НомерВхождения = Неопределено) Экспорт 
	Возврат СтрНайти(Строка, ПодстрокаПоиска, НаправлениеПоиска, НачальнаяПозиция, НомерВхождения) 
КонецФункции

// Платформенный вариант метода. Повердение отличается от ирОбщий.СтрРазделитьЛкс!
Функция СтрРазделитьЛкс(Знач Строка, Знач Разделители, Знач ВключатьПустые = Истина) Экспорт 
	Возврат СтрРазделить(Строка, Разделители, ВключатьПустые) 
КонецФункции

Функция СтрСоединитьЛкс(Знач Строки, Знач Разделитель) Экспорт
	Возврат СтрСоединить(Строки, Разделитель)
КонецФункции
	
#Если Не ТонкийКлиент И Не ВебКлиент И Не МобильныйКлиент Тогда

Функция ХешЛкс(Знач Текст) Экспорт
	Хеширование = Новый ХешированиеДанных(ХешФункция.MD5);
	Хеширование.Добавить(Текст);
	Возврат СтрЗаменить(Хеширование.ХешСумма, " ", "");
КонецФункции

Функция ТаблицаЗначенийВJSONЛкс(Знач Таблица, Знач ДелатьОтступ = Истина) Экспорт 
	#Если Сервер И Не Сервер Тогда
		Таблица = Новый ТаблицаЗначений;
	#КонецЕсли
	Массив = Новый Массив;
	ИменаКолонок = ирОбщий.ВыгрузитьСвойствоЛкс(Таблица.Колонки);
	ИменаКолонок = ирОбщий.СтрСоединитьЛкс(ИменаКолонок);
	ЗаписьЖСОН = ирОбщий.МойЗаписьJSON(ДелатьОтступ);
	ЗаписьЖСОН.ЗаписатьНачалоМассива();
	СтруктураСтроки = Новый Структура(ИменаКолонок);
	_РежимОтладки = Ложь;
	Если _РежимОтладки Тогда // Можно менять на Истина в точке останова, например условием ирОбщий.Пр(_РежимОтладки, 1, 1)
		// Пассивный оригинал расположенного ниже однострочного кода. Выполняйте изменения синхронно в обоих вариантах.
		Для Каждого СтрокаТаблицы Из Таблица Цикл
			ЗаполнитьЗначенияСвойств(СтруктураСтроки, СтрокаТаблицы);
			ЗаписатьJSON(ЗаписьЖСОН, СтруктураСтроки);
		КонецЦикла;
	Иначе
		// Однострочный код использован для ускорения при разрешенной отладке. Выше расположен оригинал. Выполняйте изменения синхронно в обоих вариантах. Преобразовано консолью кода из подсистемы "Инструменты разработчика"
		Для Каждого СтрокаТаблицы Из Таблица Цикл   ЗаполнитьЗначенияСвойств(СтруктураСтроки, СтрокаТаблицы);   ЗаписатьJSON(ЗаписьЖСОН, СтруктураСтроки);   КонецЦикла;
	КонецЕсли;
	ЗаписьЖСОН.ЗаписатьКонецМассива();
	Результат = ЗаписьЖСОН.Закрыть();
	Возврат Результат;
КонецФункции

#КонецЕсли