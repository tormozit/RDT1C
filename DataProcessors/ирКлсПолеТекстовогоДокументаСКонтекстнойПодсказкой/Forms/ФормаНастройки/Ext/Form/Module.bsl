Процедура ОсновныеДействияФормыОК(Кнопка)
	
	СохранитьЗначение(ИмяКласса + ".ФайлШаблоновТекста", ФайлШаблоновТекста);
	ирКэш.Получить().ПолучитьТаблицуШаблоновТекста(ИмяКласса, мСообщенияЧерезПредупреждения, Истина);
	СохранитьЗначение(ИмяКласса + ".ЛиОткрыватьПустойСписок", ЛиОткрыватьПустойСписок);
	СохранитьЗначение(ИмяКласса + ".ЛиАктивизироватьОкноСправкиПриЕгоОткрытии", ЛиАктивизироватьОкноСправкиПриЕгоОткрытии);
	СохранитьЗначение(ИмяКласса + ".ИспользоватьПромежуточныеДополнения", ИспользоватьПромежуточныеДополнения);
	СохранитьЗначение(ИмяКласса + ".ПредпочитаюСобственныйКонструкторЗапроса", ПредпочитаюСобственныйКонструкторЗапроса);
	мПлатформа.ЛиНизкоуровневоеПолучениеОписанийОбъектов = ЛиНизкоуровневоеПолучениеОписанийОбъектов;
	СохранитьЗначение("ирПлатформа.ЛиНизкоуровневоеПолучениеОписанийОбъектов", ЛиНизкоуровневоеПолучениеОписанийОбъектов);
	Закрыть();
	
КонецПроцедуры

Процедура ПриОткрытии()
	
	ФайлШаблоновТекста = ВосстановитьЗначение(ИмяКласса + ".ФайлШаблоновТекста");
	ЛиОткрыватьПустойСписок = ВосстановитьЗначение(ИмяКласса + ".ЛиОткрыватьПустойСписок");
	ЛиАктивизироватьОкноСправкиПриЕгоОткрытии = ВосстановитьЗначение(ИмяКласса + ".ЛиАктивизироватьОкноСправкиПриЕгоОткрытии");
	ИспользоватьПромежуточныеДополнения = ВосстановитьЗначение(ИмяКласса + ".ИспользоватьПромежуточныеДополнения");
	ПредпочитаюСобственныйКонструкторЗапроса = ВосстановитьЗначение(ИмяКласса + ".ПредпочитаюСобственныйКонструкторЗапроса");
	ЛиНизкоуровневоеПолучениеОписанийОбъектов = мПлатформа.ЛиНизкоуровневоеПолучениеОписанийОбъектов;
	
КонецПроцедуры

Процедура ФайлШаблоновНачалоВыбора(Элемент, СтандартнаяОбработка)
	
	лПолноеИмяФайла = ирОбщий.ВыбратьФайлЛкс(, "st", "Файл шаблонов текста 1С", Элемент.Значение);
	Если лПолноеИмяФайла = Неопределено Тогда
		Возврат;
	КонецЕсли;
	Элемент.Значение = лПолноеИмяФайла;
	
КонецПроцедуры

Процедура ФайлШаблоновТекстаОткрытие(Элемент, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	ТаблицаШаблоновТекста = ирКэш.Получить().ПолучитьТаблицуШаблоновТекста(ИмяКласса, мСообщенияЧерезПредупреждения);
	ТаблицаШаблоновТекста.Сортировать("Шаблон");
	ирОбщий.ИсследоватьЛкс(ТаблицаШаблоновТекста, Ложь, Истина);
	
КонецПроцедуры

ирОбщий.ИнициализироватьФормуЛкс(ЭтаФорма, "Обработка.ирКлсПолеТекстовогоДокументаСКонтекстнойПодсказкой.Форма.ФормаНастройки");
